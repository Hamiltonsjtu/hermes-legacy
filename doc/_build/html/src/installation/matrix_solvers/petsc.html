

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>PETSc &mdash; Hermes Documentation</title>
    <link rel="stylesheet" href="../../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '0.5',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/popup.js"></script>
    <script type="text/javascript" src="../../../_static/mainjava.js"></script>
    <link rel="top" title="Hermes Documentation" href="../../../index.html" />
    <link rel="up" title="Installation of Matrix Solvers" href="../matrix_solvers.html" />
    <link rel="next" title="SuperLU" href="superlu.html" />
    <link rel="prev" title="Mumps" href="mumps.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="superlu.html" title="SuperLU"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="mumps.html" title="Mumps"
             accesskey="P">previous</a> |</li>
        <li><a href="../../../index.html">Content</a> &raquo;</li>
          <li><a href="../matrix_solvers.html" accesskey="U">Installation of Matrix Solvers</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="petsc">
<h1>PETSc<a class="headerlink" href="#petsc" title="Permalink to this headline">¶</a></h1>
<div class="section" id="linux">
<h2>Linux<a class="headerlink" href="#linux" title="Permalink to this headline">¶</a></h2>
<p>Download the software package from the <a class="reference external" href="https://github.com/hpfem/solvers">solvers repository</a> and unpack
it in some temporary directory:</p>
<div class="highlight-python"><pre>wget https://github.com/downloads/hpfem/solvers/petsc-3.1-p7.spkg --no-check-certificate
tar -jxvf petsc-3.1-p7.spkg
rm petsc-3.1-p7.spkg
cd petsc-3.1-p7</pre>
</div>
<p>In order to install the library into say <tt class="docutils literal"><span class="pre">~/solvers/petsc</span></tt> (you may choose any
path you like, provided that you have write access to it; the target directory
will be created if it doesn&#8217;t exist), type now into the terminal:</p>
<div class="highlight-python"><pre>./standalone-install ~/solvers/petsc</pre>
</div>
<p>For advanced configuration possibilities, please read the <a class="reference external" href="https://github.com/hpfem/solvers/raw/master/manuals/petsc.pdf">manual</a> or visit the
<a class="reference external" href="http://www.mcs.anl.gov/petsc/">PETSc home page</a>.</p>
<p>Once the library has been built and installed, you may delete the temporary
directory with the unpacked package to save some disk space.</p>
<p>Now go to the directory with Hermes. Create the file CMake.vars with the
following lines (or append to the existing one):</p>
<div class="highlight-python"><pre>set(WITH_PETSC YES)
set(PETSC_ROOT ~/solvers/petsc) #(or your own installation destination)
set(PETSC_ARCH linux-cxx)</pre>
</div>
<p>Finally execute:</p>
<div class="highlight-python"><pre>rm CMakeCache.txt
cmake .
make</pre>
<a href="javascript:doNothing()" onClick="popup()">Video Tutorial</a>
</div>
<p>Find more about <a class="reference internal" href="#ref-usage-petsc"><em>Using PETSC in Hermes</em></a>.</p>
</div>
<div class="section" id="windows-msvc">
<h2>Windows MSVC<a class="headerlink" href="#windows-msvc" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://www.mcs.anl.gov/petsc/petsc-as/documentation/installation.html#Windows">http://www.mcs.anl.gov/petsc/petsc-as/documentation/installation.html#Windows</a></p>
</div>
<div class="section" id="mac-os">
<h2>Mac OS<a class="headerlink" href="#mac-os" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://petsc.darwinports.com/">http://petsc.darwinports.com/</a></p>
</div>
<div class="section" id="using-petsc-in-hermes">
<span id="ref-usage-petsc"></span><h2>Using PETSC in Hermes<a class="headerlink" href="#using-petsc-in-hermes" title="Permalink to this headline">¶</a></h2>
<p>You may now select <tt class="docutils literal"><span class="pre">SOLVER_PETSC</span></tt> as the matrix solver for your finite element problem, as detailed
in the <a class="reference external" href="http://hpfem.org/hermes/doc/src/hermes2d/tutorial-1/poisson.html">Poisson tutorial</a>, or use
it just to solve a standalone matrix problem <div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">Ax = b</tt>)</p>
latex exited with error:
[stderr]

[stdout]
This is pdfTeX, Version 3.1415926-1.40.10 (TeX Live 2009/Debian)
entering extended mode
(./math.tex
LaTeX2e &lt;2009/09/24&gt;
Babel &lt;v3.8l&gt; and hyphenation patterns for english, usenglishmax, dumylang, noh
yphenation, loaded.
(/usr/share/texmf-texlive/tex/latex/base/article.cls
Document Class: article 2007/10/19 v1.4h Standard LaTeX document class
(/usr/share/texmf-texlive/tex/latex/base/size12.clo))
(/usr/share/texmf-texlive/tex/latex/base/inputenc.sty
(/usr/share/texmf-texlive/tex/latex/ucs/utf8x.def))
(/usr/share/texmf-texlive/tex/latex/ucs/ucs.sty
(/usr/share/texmf-texlive/tex/latex/ucs/data/uni-global.def))
(/usr/share/texmf-texlive/tex/latex/amsmath/amsmath.sty
For additional information on amsmath, use the `?&#8217; option.
(/usr/share/texmf-texlive/tex/latex/amsmath/amstext.sty
(/usr/share/texmf-texlive/tex/latex/amsmath/amsgen.sty))
(/usr/share/texmf-texlive/tex/latex/amsmath/amsbsy.sty)
(/usr/share/texmf-texlive/tex/latex/amsmath/amsopn.sty))
(/usr/share/texmf-texlive/tex/latex/amscls/amsthm.sty)
(/usr/share/texmf-texlive/tex/latex/amsfonts/amssymb.sty
(/usr/share/texmf-texlive/tex/latex/amsfonts/amsfonts.sty))
(/usr/share/texmf-texlive/tex/latex/tools/bm.sty)

! LaTeX Error: File `dsfont.sty&#8217; not found.

Type X to quit or &lt;RETURN&gt; to proceed,
or enter new name. (Default extension: sty)

Enter file name: 
! Emergency stop.
&lt;read *&gt; 
         
l.12 \usepackage
                {braket}^^M
No pages of output.
Transcript written on math.log.
</div>
 as in the
<a class="reference external" href="http://hpfem.org/hermes/doc/src/hermes2d/tutorial-5/matrix_solvers.html">Using Matrix Solvers tutorial</a>.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">PETSc</a><ul>
<li><a class="reference internal" href="#linux">Linux</a></li>
<li><a class="reference internal" href="#windows-msvc">Windows MSVC</a></li>
<li><a class="reference internal" href="#mac-os">Mac OS</a></li>
<li><a class="reference internal" href="#using-petsc-in-hermes">Using PETSC in Hermes</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="mumps.html"
                        title="previous chapter">Mumps</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="superlu.html"
                        title="next chapter">SuperLU</a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="superlu.html" title="SuperLU"
             >next</a> |</li>
        <li class="right" >
          <a href="mumps.html" title="Mumps"
             >previous</a> |</li>
        <li><a href="../../../index.html">Content</a> &raquo;</li>
          <li><a href="../matrix_solvers.html" >Installation of Matrix Solvers</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2009-2011, hp-FEM group at UNR.
      Last updated on May 24, 2011.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>
